# List packet exchanges
netstat

# Checking ports
netstat -nap
nmap -sS -O 127.0.0.1 # Guess OS !!
lsof -i -n -P 

#Shows Where a File/Directory Comes From (links, etc.)
namei

#How to grep IPs
grep '[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}'

curl
#See: http://curl.haxx.se/docs/httpscripting.html

# Create fake file
sudo dd if=/dev/urandom of=FAKE-2012Oct23-000000.rdb bs=1M count=6000

# Script parent dir
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# Find non-ASCII characters
grep --color='auto' -P -n "[\x80-\xFF]" file.xml

# Fixing terminal frenzy
echo <ctrl-v><ctrl-o>

# Abort <CMD> after a timeout
( cmdpid=$BASHPID; (sleep 10; kill $cmdpid) & exec <CMD> )

# Standard logs date
date "+%F %T,%N" | cut -c-23

# Watch system stats
watch -d 'cat /proc/meminfo'

# Checking Swap Space Size and Usage
vmstat 2
sar
# + to consult history : https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/5/html/Tuning_and_Optimizing_Red_Hat_Enterprise_Linux_for_Oracle_9i_and_10g_Databases/sect-Oracle_9i_and_10g_Tuning_Guide-Swap_Space-Checking_Swap_Space_Size_and_Usage.html

snmpget -v2c -c '<community_string>' <device> SNMPv2-MIB::sysDescr.0
# or sysUpTime, sysName
# The community string can be found in the 'Variables' tab in the AutoNOC device page

# Dump all tcp transmission to a specific IP :
sudo tcpdump host $IP

#Iptables
iptables -A INPUT -s <IP_OR_HOSTNAME> -j DROP
iptables -n -L -v

# Sum up kind of files without ext
ls | cut -d . -f 1 | sort | uniq -c

hexdump -c

#Append at the end of stdout (or beginning with ^)
echo ECHO | sed s/$/.ext/

# Sets intersec
comm -12 #or uniq -d

# How to start a file to make it executable AND runnable with mysql < FILE.mysql :
/*/cat <<NOEND | mysql #*/
use ...;
select
    ...
from
    ...
where
    ...;
    
# 'top'
* killing : Press "k", then pid, then signal (15, 9...)
* sorting : press "O" and select the column
* display absolute path of commands : "c"

# List system users
awk -F":" '{ print "username: " $1 "\t\tuid:" $3 }' /etc/passwd

# Sudo user
sudo su -l

# Remove sudo time stamp => no more sudo rights
sudo -K

# Change keyboard to FR
loadkeys fr

#Attribute IP ton interface
ifconfig eth0 192.168.0.1

# Follow program system calls
strace

# Named pipes: https://en.wikipedia.org/wiki/Named_pipe

sudo ldconfig

nm *.o

readelf -Ws *.so

sudo dpkg -D1 -i *.deb

# Rescan for memory card
sudo su -l
echo 1 > /sys/bus/pci/rescan

# Convert .wmv to .avi
mencoder vid.wmv -o vid.avi -ofps 25 -ni -ovc lavc -oac mp3lame
# .mp4 to .avi
ffmpeg -i vid.mp4 -f avi -vcodec copy -acodec copy vid.avi

lsb_release -a
cat /etc/motd
uname -a
cat /etc/issue*

# Notepad in browser
data:text/html, <html contenteditable>

# Virtualbox
sudo adduser $USER vboxusers # then logout
VBoxManage list vms
VBoxManage controlvm <name> poweroff

# Get uid / groups infos
id $USER # for primary group, use -ng flag or grep gid=
adduser / moduser -a -G # DO NOT FORGET THE -a !!!


############
# Scripting
############

cat <<EOF
EOF

# Standard warnings
set -eux

# Redirect logs
exec >>$0.log.$(date +%Y-%m-%d-%H) 2>&1

# Set positional parameters $0 $1 ...
set - A B C

# Garbage cleaner
trap "e=$?;<CMDS>;exit $e" EXIT INT TERM

# mktemp dir & default value
tdir="$(mktemp -d ${TMPDIR:-/tmp}/$0)"

# Parsing *=* args (unsecure)
# Push element in an array
declare -a argFiles
for arg in "$@"; do
    case $arg in
        *=*) eval $arg;;
        *) argFiles[${#argFiles[*]}]="$(readlink -f $arg)";;
    esac
done

# Variables substitutions (http://tldp.org/LDP/abs/html/parameter-substitution.html)
echo ${PWD//\//-}

#-----#
# SVN #
#-----#

# Svn ignore
svn propedit svn:ignore DIR # then specify PATTERNS

# Get all svn props
svn propget -R svn:ignore .

# Rm added then removed files
svn status | grep '!M' | awk '{print $2}' | xargs svn rm #--force

# Display even ignored files
svn status --no-ignore


#######
# Git
#######

# Reflog
git reflog â€“> To list all actions done on the git repo ( not only the commits, but all commands that were run, including rebases )
git reset --hard HEAD@{3} -> To rewind the repo back to the state of HEAD@{3} in the reflog lists.
 
# List versioned files
git ls-tree --name-only HEAD
 
#------#
# Java #
#------#
// String / ByteString correct conversion :
String asString = new String( byteString.getArray(), "UTF-8" );
ByteString asBytes = ByteString.wrap( string.getBytes( "UTF-8" );

// Built-in parallelism the easy way : ExecutorService
