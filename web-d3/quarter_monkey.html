<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script type="text/javascript" src="d3.v3.min.js"></script>
    </head>
    <body>
        <script>
const SVG_WIDTH = 800, SVG_HEIGHT = 600;
const RADIUS = 20;
const INIT_HORIZ_SPACING = 50, VERTI_SPACING = 30;
const FILL_COLOR = "cornflowerblue", STROKE_COLOR = "black", TEXT_COLOR = "black";
const STARTING_RANGE = 10;

// Initial data
function range(start, end) { var array=[]; for (var i=0; i<STARTING_RANGE; ++i) { array.push(i); } return array; }
var startingNumbers = range(0, STARTING_RANGE);
var data = [
    { "generation": 1, "number": n }
        for each (n in startingNumbers)
];

// Handy functions
function pos_x(d) { return SVG_WIDTH / 2 + (d.number - (STARTING_RANGE - 1) / 2) * (INIT_HORIZ_SPACING + RADIUS); }
function pos_y(d) { return (d.generation + 0.5) * (VERTI_SPACING + RADIUS); }

// Rendering
var svgContainer = d3.select("body").append("svg").attr("width", SVG_WIDTH).attr("height", SVG_HEIGHT);
var circles = svgContainer.selectAll("circle").data(data).enter().append("circle")
    .attr("cx", pos_x)
    .attr("cy", pos_y)
    .attr("r", RADIUS)
    .style("fill", FILL_COLOR)
    .style("stroke", STROKE_COLOR);
var circleTexts = svgContainer.selectAll("text").data(data).enter().append("text")
    .text(function(d) { return d.number; })
    .attr("x", pos_x)
    .attr("y", pos_y)
    .attr("font-family", "sans-serif")
    .attr("font-size", "16px")
    .style("dominant-baseline", "middle")
    .style("text-anchor", "middle")
    .attr("fill", TEXT_COLOR);
        </script>
    </body>
</html>
<!--
TODO:
- input form
- persist data between refreshes
-->
